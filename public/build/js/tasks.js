!function(){function e(e,t,n){const o=document.querySelector(".alert");o&&o.remove();const s=document.createElement("DIV");s.classList.add("alert",t),s.textContent=e,n.parentElement.insertBefore(s,n.nextElementSibling),setTimeout(()=>{s.remove()},5e3)}document.querySelector("#add-task").addEventListener("click",function(){const t=document.createElement("DIV");t.classList.add("modal"),t.innerHTML='\n        <form class="form new-task">\n            <legend>Add a New Task</legend>\n                <div class="field">\n                    <label for="TASK">Task</label>\n                    <input \n                        type="text" \n                        name="TASK" \n                        id="TASK"\n                        placeholder="New Task"\n                    />\n                </div>\n                <div class="options">\n                    <input \n                        type="submit" \n                        value="Add Task" \n                        class="submit-new-task"\n                    />\n                    <button type="button" class="close-modal">Cancel</button>\n                </div>\n        </form>\n        ',setTimeout(()=>{document.querySelector(".form").classList.add("animate")},0),t.addEventListener("click",function(n){if(n.preventDefault(),n.target.classList.contains("close-modal")){document.querySelector(".form").classList.add("close"),setTimeout(()=>{t.remove()},1e3)}n.target.classList.contains("submit-new-task")&&function(){const t=document.querySelector("#TASK").value.trim();if(""===t)return void e("The name task is required","error",document.querySelector(".form legend"));!async function(t){const n=new FormData;n.append("TASK",t),n.append("PROJECT_ID",function(){const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries()).id}());try{const t="http://localhost:3000/api/task",o=await fetch(t,{method:"POST",body:n}),s=await o.json();if(console.log(s),e(s.message,s.type,document.querySelector(".form legend")),"success"===s.type){const e=document.querySelector(".modal");setTimeout(()=>{e.remove()},3e3)}}catch(e){console.log(e)}}(t)}()}),document.querySelector(".dashboard").appendChild(t)})}();